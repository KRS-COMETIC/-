<script>
const lucaWords = [
  "……無理はしない。今日はそれでいい。",
  "周りに合わせすぎ。少し、自分を優先して。",
  "静かな時間が、答えをくれると思う。",
  "今は準備のとき。焦る必要はない。",
  "やるなら、最後まで。中途半端は嫌い。",
  "今日は、ちゃんと休みなよ。",
  "大丈夫。思ってるより、ちゃんと出来てる。"
];

const button = document.querySelector("button");
const result = document.getElementById("result");

function canShowToday() {
  const lastDate = localStorage.getItem("lucaDate");
  const today = new Date().toISOString().split("T")[0]; // YYYY-MM-DD
  return lastDate !== today;
}

function showLuca() {
  if (!canShowToday()) {
    alert("今日の斑鳩ルカはもう見ました！");
    return;
  }

  const text = lucaWords[Math.floor(Math.random() * lucaWords.length)];
  result.style.opacity = 0;
  setTimeout(() => {
    result.textContent = text;
    result.style.opacity = 1;
  }, 150);

  // 今日の日付を保存
  const today = new Date().toISOString().split("T")[0];
  localStorage.setItem("lucaDate", today);

  // ボタンを無効化
  button.disabled = true;
  button.style.opacity = 0.5;
}

// ページ読み込み時にボタン状態を確認
if (!canShowToday()) {
  button.disabled = true;
  button.style.opacity = 0.5;
}
</script>
